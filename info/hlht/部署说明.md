# 互联互通部署说明 
> hlht部署分两部分，前端与后端分别部署

## 使用root用户操作
> 建议使用root用户，可使用weblogic登录，再切换到root


## 资源路径
> 
1. nginx路径： /usr/local/nginx
2. jar包、前端文件压缩包的存放路径：/home/weblogic/hlht_new/bao/
3. 日志文件：后端日志../bao/log/ 与前端日志 /usr/local/nginx/logs/

## 脚本 

### 前端部署脚本
> ../bao/nginx.sh 用于部署前端，它有以下几个函数
- bak 对原资源文件进行备份
- build 将上传的前端资源压缩包解压到 /usr/local/nginx/views
- status 可以查看nginx服务器是否在运行
- stop 停止nginx服务
- restart 重启nginx服务
- usage 提示

> 前端的一般部署操作是：
1. 备份：进入../bao/目录下，执行bak完成备份
2. 上传tar包：上传压缩包(bapfopm-hlht-web.tar)到 ../bao/
3. 解压：build完成资源包的解压
4. 重启nginx服务：最后使用restart完成部署
5. status确认是否完成部署
6. tail -f /usr/local/nginx/logs/error.log 查看错误日志

### 后端部署脚本
> ../bao/server.sh 用于部署后端，它有以下几个函数
- bak 备份
- start 启动
- stop 停止项目进程
- restart 重启项目
- status 查看项目状态


> 后端的部署操作：
1. 备份：进入../bao，执行bak完成备份
2. 上传jar包：同样上传到../bao目录下
3. status 查看项目状态，根据项目线程状态，决定接下来执行的函数，是stop还是start
4. stop 停止项目
5. start 启动项目
6. tail -f nohup.out